<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin | Video Groups</title>
    <link rel="stylesheet" href="../Cdn/css/admin.video.group.list.css">
    <link href="../Cdn/vendor/bootstrap-5.3.3/css/bootstrap.min.css" rel="stylesheet" />

    <script src="../Cdn/vendor/bootstrap-5.3.3/js/bootstrap.min.js"></script>
    <script src="../Cdn/vendor/jquery-3.7.1/jquery-3.7.1.min.js"></script>
    <script src="../Cdn/vendor/validatejs-0.13.1/validate.min.js"></script>
    <script src="../Cdn/js/script.js"></script>


    <script type="text/javascript">

        //SAMPLE DATA OF VIDEO GROUPS

        $(document).ready(function () {
            $('.header').load('header.html');
            $('.sidebar').load('sidebar.html');
            $('.footer').load('footer.html');

        });

        function validateInput(input) {
            let message = [];

            const data = input.reduce(function (obj, item) {
                if (item.name === 'duration') {
                    if (item.value.trim() !== '') {
                        obj[item.name] = item.value.split(',').map(Number);
                    } else {
                        obj[item.name] = [];
                    }
                } else if (item.name === 'cost') {
                    obj[item.name] = parseFloat(item.value);
                } else {
                    obj[item.name] = item.value;
                }
                return obj;
            }, {});

            const validator = validate(data, {
                name: {
                    presence: { allowEmpty: false },
                    type: "string",
                    length: { minimum: 4 },
                },
                description: {
                    presence: { allowEmpty: false },
                    type: "string",
                    length: { minimum: 4 }
                },
                duration: {
                    presence: { allowEmpty: false },
                    type: "array",
                    length: { minimum: 1 }
                },
                cost: {
                    presence: { allowEmpty: false },
                    type: "number",
                    numericality: { greaterThanOrEqualTo: 0 }
                }
            });

            if (validator !== undefined) {
                for (key in validator) {
                    message.push(validator[key]);
                }
                return message.join(", ");
            }

            return false;
        }
    </script>

</head>

<body>
    <div class="container-fluid">
        <div class="row flex-nowrap" style="height: 100vh">
            <!-- SIDEBAR -->
            <div class="sidebar col-md-3 col-lg-2 px-sm-2 px-0 bg-light"></div>
            <main class="col py-3">
                <!-- HEADER -->
                <div class="header"></div>

                <!-- CONTENT -->
                <div class='content'>
                    <!-- all content body should be here -->

                    <div class="card">
                        <div class="card-body">

                            <div class="response"></div>

                            <form id="form" action="" method="post">

                                <input type="hidden" name="csrf_token" id="csrf_token" value="" />

                                <div class="form-floating mb-3">
                                    <input type="text" name="name" id="name" value="" class="form-control"
                                        autocomplete="off" />
                                    <label for="name">Video Group Name</label>
                                </div>

                                <div class="form-floating mb-3">
                                    <input type="text" name="description" id="description" value="" class="form-control"
                                        autocomplete="off" />
                                    <label for="description">Description of this Video Group</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="text" name="duration" id="duration" value="" class="form-control"
                                        autocomplete="off" />
                                    <label for="duration">Duration</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="text" name="cost" id="cost" value="" class="form-control"
                                        autocomplete="off" />
                                    <label for="cost">Cost</label>
                                </div>
                            </form>

                            <span class="btn btn-primary btn-save">Save Form</span>

                        </div>
                    </div>

                </div>
                <!-- FOOTER -->
                <div class="footer"></div>
            </main>
        </div>
    </div>
</body>

</html>
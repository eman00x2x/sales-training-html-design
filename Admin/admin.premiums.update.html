<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADMIN | Premium</title>
    <!-- BOOSTRAP ICONS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- TABLER -->
    <link href="../Cdn/vendor/tabler/dist/css/tabler.min.css" rel="stylesheet" />
    <link href="../Cdn/vendor/tabler/dist/css/tabler-vendors.min.css?1695847769" rel="stylesheet" />
    <link rel="stylesheet" href="../Cdn/css/admin.global.css" />
    <script src="../Cdn/vendor/jquery-3.7.1/jquery-3.7.1.min.js"></script>
    <script src="../Cdn/js/script.js"></script>
    <script src="../Cdn/vendor/validatejs-0.13.1/validate.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.header').load('header.html');
            $('.sidebar').load('sidebar.html');
            $('.footer').load('footer.html');

        });
        $(document).on("click", "#back", function (e) {
            window.location.href = "premiums.list.html"
        });
        $(document).ready(function () {

            let params = new URL(document.location.toString()).searchParams;
            let id = params.get("id");

            $.getJSON(`../Cdn/js/data/premiums.json`, function (data) {
                let response = data.data;
                f = response.keys(response).find(key => response[key].premium_id == id);
                $('#category').val(response[f].category);
                $('#type').val(response[f].type);
                $('#name').val(response[f].name);
                $('#description').val(response[f].description);
                $('#script').val(response[f].script);
                $('#duration').val(response[f].duration);
                $('#cost').val(response[f].cost);
            });
        });

    </script>
</head>

<body>
    <div class="page">
        <!-- SIDEBAR -->
        <aside class="sidebar navbar navbar-vertical navbar-expand-lg navbar-transparent"
            style="background-color: #1c1c39 !important;" data-bs-theme="dark"></aside>

        <div class="page-wrapper">
            <!-- HEADER -->
            <div class="header"></div>

            <!-- CONTENT -->
            <div class='content'>
                <!-- all content body should be here -->
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex align-items-center">
                            <i class="bi bi-plus-circle fs-2"></i>
                            <h5 class="ms-2 modal-title font-bold">Edit Premium</h5>
                        </div>
                        <hr>
                        <div class="response" style="margin-top: 5px;"></div>

                        <form id="form" action="" method="post">
                            <input type="hidden" name="csrf_token" id="csrf_token" value="" />
                            <label for="category">Premium Category</label>
                            <div class=" mb-3">
                                <input type="text" name="category" id="category" value="" class="form-control"
                                    autocomplete="off" />
                            </div>
                            <label for="type">Premium Type</label>
                            <div class=" mb-3">
                                <input name="type" id="type" class="form-control" rows="3"
                                    autocomplete="off"></input>
                            </div>
                            <label for="name">Name of this Premium</label>
                            <div class=" mb-3">
                                <input name="name" id="name" class="form-control" rows="3"
                                    autocomplete="off"></input>
                            </div>
                            <label for="description">Description of this Premium</label>
                            <div class=" mb-3">
                                <textarea name="description" id="description" class="form-control" rows="3"
                                    autocomplete="off"></textarea>
                            </div>
                            <label for="script">Script of this Premium</label>
                            <div class=" mb-3">
                                <input name="script" id="script" class="form-control" rows="3"
                                    autocomplete="off"></input>
                            </div>
                            <label for="duration">Duration of this Premium</label>
                            <div class=" mb-3">
                                <input name="duration" id="duration" class="form-control" rows="3"
                                    autocomplete="off"></input>
                            </div>
                            <label for="cost">Cost of this Premium</label>
                            <div class=" mb-3">
                                <input name="cost" id="cost" class="form-control" rows="3"
                                    autocomplete="off"></input>
                            </div>
                        </form>

                        <div class="d-flex justify-content-end">
                            <button id="back" type="button" class="btn border border-secondary me-1"
                                data-bs-dismiss="modal">
                                Back
                            </button>
                            <span class="btn btn-primary btn-save ">Save Form</span>
                        </div>

                    </div>
                </div>

            </div>

            <!-- FOOTER -->
            <div class="footer container-fluid"></div>
        </div>
    </div>
</body>

</html>